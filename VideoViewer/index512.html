<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
	<style>
		html { height:100%; }
		body { min-height:100%; min-width:100%; display:inline-flex; align-items: center; /*justify-content: center;*/ margin:0; background:#000; }
		#canvas { display:block; margin: auto; background:url('bg.jpg') no-repeat center center; background-size:97.5%; }
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.createjs.com/preloadjs-0.6.2.min.js"></script>
    <script src="lib/twgl-full.js"></script>

    <script src="lib/Decoder.js"></script>
    <script src="lib/mp4.js"></script>
    <script src="lib/stream.js"></script>

    <script src="js/Renderer.js"></script>
    <script src="js/Segment.js"></script>
	
	<script src="./LUT.js"></script>
</head>
<body>
	
    <script id="vs" type="x-shader/x-vertex">
        uniform mat4 modelView;
        attribute vec4 vPosition;
        attribute vec2 vTexCoord;
        varying vec2 texCoord;

        void main(void)
        {
			gl_Position = modelView * vPosition;
			texCoord = vTexCoord;
        }
    </script>
    <script id="fs" type="x-shader/x-fragment">
        precision mediump float;
        varying vec2 texCoord;
        uniform sampler2D colorTable;
		uniform sampler2D segmentTexture;

        void main(void)
        {
			vec4 videoPixel = texture2D(segmentTexture, texCoord);
			vec4 coloredPixel = texture2D(colorTable, vec2(videoPixel.r, 0.5)).bgra;
			gl_FragColor = coloredPixel;
        }
    </script>

    <canvas id="canvas"></canvas>
	
	<script type="text/javascript">
		var r = new Renderer([
				new Segment("http://86.119.40.9/Viewer/videos/512/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_0.mp4", 512, 512, 0, 0),
				
				new Segment("http://86.119.40.9/Viewer/videos/1024/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_0.mp4", 512, 1024, 0, 0),
				new Segment("http://86.119.40.9/Viewer/videos/1024/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_0.mp4", 512, 1024, 1, 0),
				new Segment("http://86.119.40.9/Viewer/videos/1024/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_1.mp4", 512, 1024, 0, 1),
				new Segment("http://86.119.40.9/Viewer/videos/1024/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_1.mp4", 512, 1024, 1, 1),
				
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_0.mp4", 512, 2048, 0, 0),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_0.mp4", 512, 2048, 1, 0),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_0.mp4", 512, 2048, 2, 0),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_0.mp4", 512, 2048, 3, 0),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_1.mp4", 512, 2048, 0, 1),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_1.mp4", 512, 2048, 1, 1),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_1.mp4", 512, 2048, 2, 1),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_1.mp4", 512, 2048, 3, 1),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_2.mp4", 512, 2048, 0, 2),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_2.mp4", 512, 2048, 1, 2),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_2.mp4", 512, 2048, 2, 2),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_2.mp4", 512, 2048, 3, 2),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_3.mp4", 512, 2048, 0, 3),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_3.mp4", 512, 2048, 1, 3),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_3.mp4", 512, 2048, 2, 3),
				new Segment("http://86.119.40.9/Viewer/videos/2048/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_3.mp4", 512, 2048, 3, 3),
				
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_0.mp4", 512, 4096, 0, 0),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_0.mp4", 512, 4096, 1, 0),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_0.mp4", 512, 4096, 2, 0),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_0.mp4", 512, 4096, 3, 0),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__4_0.mp4", 512, 4096, 4, 0),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__5_0.mp4", 512, 4096, 5, 0),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__6_0.mp4", 512, 4096, 6, 0),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__7_0.mp4", 512, 4096, 7, 0),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_1.mp4", 512, 4096, 0, 1),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_1.mp4", 512, 4096, 1, 1),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_1.mp4", 512, 4096, 2, 1),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_1.mp4", 512, 4096, 3, 1),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__4_1.mp4", 512, 4096, 4, 1),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__5_1.mp4", 512, 4096, 5, 1),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__6_1.mp4", 512, 4096, 6, 1),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__7_1.mp4", 512, 4096, 7, 1),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_2.mp4", 512, 4096, 0, 2),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_2.mp4", 512, 4096, 1, 2),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_2.mp4", 512, 4096, 2, 2),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_2.mp4", 512, 4096, 3, 2),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__4_2.mp4", 512, 4096, 4, 2),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__5_2.mp4", 512, 4096, 5, 2),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__6_2.mp4", 512, 4096, 6, 2),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__7_2.mp4", 512, 4096, 7, 2),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_3.mp4", 512, 4096, 0, 3),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_3.mp4", 512, 4096, 1, 3),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_3.mp4", 512, 4096, 2, 3),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_3.mp4", 512, 4096, 3, 3),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__4_3.mp4", 512, 4096, 4, 3),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__5_3.mp4", 512, 4096, 5, 3),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__6_3.mp4", 512, 4096, 6, 3),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__7_3.mp4", 512, 4096, 7, 3),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_4.mp4", 512, 4096, 0, 4),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_4.mp4", 512, 4096, 1, 4),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_4.mp4", 512, 4096, 2, 4),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_4.mp4", 512, 4096, 3, 4),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__4_4.mp4", 512, 4096, 4, 4),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__5_4.mp4", 512, 4096, 5, 4),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__6_4.mp4", 512, 4096, 6, 4),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__7_4.mp4", 512, 4096, 7, 4),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_5.mp4", 512, 4096, 0, 5),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_5.mp4", 512, 4096, 1, 5),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_5.mp4", 512, 4096, 2, 5),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_5.mp4", 512, 4096, 3, 5),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__4_5.mp4", 512, 4096, 4, 5),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__5_5.mp4", 512, 4096, 5, 5),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__6_5.mp4", 512, 4096, 6, 5),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__7_5.mp4", 512, 4096, 7, 5),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_6.mp4", 512, 4096, 0, 6),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_6.mp4", 512, 4096, 1, 6),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_6.mp4", 512, 4096, 2, 6),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_6.mp4", 512, 4096, 3, 6),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__4_6.mp4", 512, 4096, 4, 6),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__5_6.mp4", 512, 4096, 5, 6),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__6_6.mp4", 512, 4096, 6, 6),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__7_6.mp4", 512, 4096, 7, 6),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__0_7.mp4", 512, 4096, 0, 7),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__1_7.mp4", 512, 4096, 1, 7),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__2_7.mp4", 512, 4096, 2, 7),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__3_7.mp4", 512, 4096, 3, 7),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__4_7.mp4", 512, 4096, 4, 7),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__5_7.mp4", 512, 4096, 5, 7),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__6_7.mp4", 512, 4096, 6, 7),
				new Segment("http://86.119.40.9/Viewer/videos/4096/1/2017/9/11/0/0/9/SDO_AIA_171/35__7_7.mp4", 512, 4096, 7, 7),
			], LUT["SDO-AIA 171 \u212B"]);
		requestAnimationFrame(r.render.bind(r));
	</script>
</body>
</html>